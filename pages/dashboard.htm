<!DOCTYPE html>
<html>
    <head>
    	<script type="text/javascript" src="../js/lib/jquery-1.9.1.js"></script>
    	
    	<script type="text/javascript" src="../js/lib/handlebars.js"></script>
    	<script type="text/javascript" src="../js/kunder.handlebars.js"></script>
    	
    	<script type="text/javascript">
    		Handlebars.printTemplate("header", { title : "dashboard" });
    	</script>
    	
    	<link rel="stylesheet" type="text/css" href="../css/kunder.dashboard.css" />
    	
    	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<script type="text/javascript" src="../js/kunder.votes.js"></script>
    	
    </head>
    <body id="body">
    	
    	<div class="content">
    		<div id="leftContent" class="leftContent"></div>
	   		<script type="text/javascript">
	   			$.Menu.CreateMenu($('#leftContent'), 'dashboard.htm');
	   		</script>
    		<div id="rightContent" class="rightContent">
    			<div id="dailyVotes"></div>
		    	<div id="questions"></div>
		    	<div class="options">
			    	<a onclick="showChart('pieChart'); return false;">
			    		<img src="../img/pieChart.png" chart="pieChart" />
			    	</a>
			    	<a onclick="showChart('barChart'); return false;">
			    		<img src="../img/barChart.png" chart="barChart" />
			    	</a>
			    	<a onclick="showChart('columnChart'); return false;">
			    		<img src="../img/columnChart.png" chart="columnChart" />
			    	</a>
		    	</div>
		    	
		    	<script type="text/javascript">
		    		// Load the Visualization API and the piechart package.
			        google.load('visualization', '1.0', {'packages':['corechart']});
			        
		    		var chartsAPILoaded;
		    		
			        if(chartsAPILoaded) {
			        	$.Votes.getDashboardData();
			        }
			        
			        // Set a callback to run when the Google Visualization API is loaded.
			        google.setOnLoadCallback(function() {
			        	chartsAPILoaded = true;
			        	$.Votes.getDashboardData();
			        });
			        
			        showChart('pieChart');
			        
			        function showChart(type) {
			        	$('.dashboardChart').hide();
			        	$('.'+type).css('display', 'inline-block');
			        	
			        	$("img[chart='" + type + "']").attr('src', '../img/' + type + '-on.png');
			        	$("img[chart!='" + type + "']").each(function(){
			        		$(this).attr('src', $(this).attr('src').replace('-on', ''));
			        	});
			        }
			        
		    	</script>
		    	
		   	</div>
	   	</div>
	   	
	   	<script type="text/javascript">
	   		Handlebars.printTemplate("footer", { });
	   		
	   		
	   	</script>
	   	
    </body>
</html>